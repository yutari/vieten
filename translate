export const NavbarComponent: ng.IComponentOptions = {
  template: require('./navbar.html'),
  controller: function (
    UserService: UserService,
    TaskService: TaskService,
    UserNotificationService: UserNotificationService,
    OrganizationService: OrganizationService,
    $scope: IScope,
    Constants: Constants,
    $rootScope: IScope,
    $state: StateService,
    $transitions,
    $interval: IIntervalService,
    AuthenticationService: AuthenticationService,
    $window,
    LanguageService,
  ) {
    'ngInject';

    this.refreshUser = (user) => {
      this.newsletterProposed =
        (user && !user.firstLogin) || !!$window.localStorage.getItem('newsletterProposed') || !Constants.org.settings.newsletter.enabled;
    };
